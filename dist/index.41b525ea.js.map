{"mappings":"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","sources":["src/views/HomeScreen.js","src/js/utils.js","src/js/localStorage.js","src/js/app.js","src/views/ProductScreen.js","src/js/api.js","src/js/config.js","src/views/Error404Screen.js","src/views/CartScreen.js","src/views/SignInScreen.js","src/components/Header.js","src/views/RegisterScreen.js","src/views/ProfileScreen.js","src/views/ShippingScreen.js","src/components/CheckOutSteps.js","src/views/PaymentScreen.js","src/views/PlaceOrderScreen.js"],"sourcesContent":["import { hideLoading, parseRequestUrl, showLoading } from \"../js/utils.js\";\n\nconst HomeScreen = {\n  after_render: () => {\n    const logo = document.querySelector(\".navbar-brand\");\n    const btnShop = document.querySelector(\".cart\");\n\n    btnShop.addEventListener(\"click\", function () {\n      if ((document.location.hash = `/cart`)) window.location.reload();\n    });\n\n    logo.addEventListener(\"click\", function () {\n      if ((document.location.hash = `/`)) window.location.reload();\n    });\n  },\n  render: async () => {\n    showLoading();\n    const res = await fetch(\n      \" https://serene-sea-96098.herokuapp.com/api/product\"\n    );\n    hideLoading();\n    if (!res || !res.ok) {\n      return `<div>Eroare</div>`;\n    }\n    const products = await res.json();\n    return `\n    <div class=\"row row-cols-1 row-cols-md-3 g-5 d-flex justify-content-center align-items-center\">\n         ${products\n           .map(\n             (product) => `\n         <div class=\"col \">\n            <div class=\"card  d-flex bg-transparent justify-content-center align-items-center shadow-lg p-3 mb-4 bg-transparent bg-gradient rounded \">\n               <a id='pp' href=\"/#/product/${product.id}\" onClick=\"window.close();window.open('/#/product/${product.id}')\">\n                 <img src=\"./src/img/${product.img}.jpeg\" id=\"prod\" class=\"card-img-top img-thumbnail img-fluid mt-5 rounded pointer\" alt=\"${product.tag}\">\n               </a>\n               <div class=\"card-body\">\n                   <h6 class=\"card-title\">🏷️Preț: ${product.price}lei</h6>\n                   <a class='text-decoration-none text-dark h4'  href=\"/#/product/${product.id}\" target=\"_top\">\n                   <p class=\"card-text\">${product.name}</p>\n                   </a>\n                   \n                </div>\n             </div>   \n           </div>\n          `\n           )\n           .join(\"\\n\")}     \n       </div>\n       <div class=\"p-5\"></div>\n    `;\n  },\n};\n\nexport default HomeScreen;\n","import { getCartItems } from \"./localStorage.js\";\n\nexport const parseRequestUrl = () => {\n  const url = document.location.hash.toLowerCase();\n  const request = url.split(\"/\");\n  return {\n    resource: request[1],\n    id: request[2],\n    verb: request[3],\n  };\n};\n\nexport const rerender = async (component) => {\n  document.getElementById(\"main-container\").innerHTML =\n    await component.render();\n  await component.after_render();\n};\n\nexport const showLoading = () => {\n  document.getElementById(\"loading-overlay\").classList.add(\"active\");\n};\n\nexport const hideLoading = () => {\n  document.getElementById(\"loading-overlay\").classList.remove(\"active\");\n};\n\nexport const showMessage = (message, callback) => {\n  document.getElementById(\"message-overlay\").innerHTML = `\n  \n  <div id='message-overlay-content'>\n     <div class=\"card text-center\" style=\"width: 23rem;\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title text-dark\">${message}</h5>\n          <button class='btn btn-danger bg-gradient' id='message-overlay-close-button'>Închide</button>\n        </div>\n     </div>\n  </div>\n \n  `;\n  document.getElementById(\"message-overlay\").classList.add(\"active\");\n  document\n    .getElementById(\"message-overlay-close-button\")\n    .addEventListener(\"click\", () => {\n      document.getElementById(\"message-overlay\").classList.remove(\"active\");\n      if (callback) {\n        callback();\n      }\n    });\n};\n\nexport const redirectUser = () => {\n  if (getCartItems().length !== 0) {\n    document.location.hash = \"/shipping\";\n  } else {\n    document.location = \"/\";\n  }\n};\n","export const getCartItems = () => {\n  const cartItems = localStorage.getItem(\"cartItems\")\n    ? JSON.parse(localStorage.getItem(\"cartItems\"))\n    : [];\n  return cartItems;\n};\n\nexport const setCartItems = (cartItems) => {\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n};\n\nexport const setuserInfo = ({\n  id = \"\",\n  name = \"\",\n  email = \"\",\n  password = \"\",\n  isAdmin = false,\n}) => {\n  localStorage.setItem(\n    \"userInfo\",\n    JSON.stringify({\n      id,\n      name,\n      email,\n      password,\n      isAdmin,\n    })\n  );\n};\n\nexport const clearUser = () => {\n  localStorage.removeItem(\"userInfo\");\n};\n\nexport const getUserInfo = () => {\n  return localStorage.getItem(\"userInfo\")\n    ? JSON.parse(localStorage.getItem(\"userInfo\"))\n    : { name: \"\", email: \"\", password: \"\" };\n};\n\nexport const getShipping = () => {\n  const shipping = localStorage.getItem(\"shipping\")\n    ? JSON.parse(localStorage.getItem(\"shipping\"))\n    : {\n        adress: \"\",\n        city: \"\",\n        postalCode: \"\",\n        country: \"\",\n      };\n  return shipping;\n};\n\nexport const setShipping = ({\n  adress = \"\",\n  city = \"\",\n  postalCode = \"\",\n  country = \"\",\n}) => {\n  localStorage.setItem(\n    \"shipping\",\n    JSON.stringify({ adress, city, postalCode, country })\n  );\n};\n\nexport const getPayment = () => {\n  const payment = localStorage.getItem(\"payment\")\n    ? JSON.parse(localStorage.getItem(\"payment\"))\n    : {\n        paymentMethod: \"Plata la ramburs\",\n      };\n  return payment;\n};\n\nexport const setPayment = ({ paymentMethod = \"card\" }) => {\n  localStorage.setItem(\"payment\", JSON.stringify({ paymentMethod }));\n};\n\nexport const cleanCart = () => {\n  localStorage.removeItem(\"cartItems\");\n};\n","import HomeScreen from \"../views/HomeScreen.js\";\nimport ProductScreen from \"../views/ProductScreen.js\";\nimport { hideLoading, parseRequestUrl, showLoading } from \"./utils.js\";\nimport Error404Screen from \"../views/Error404Screen.js\";\nimport CartScreen from \"../views/CartScreen.js\";\nimport SignInScreen from \"../views/SignInScreen.js\";\nimport Header from \"../components/Header.js\";\nimport RegisterScreen from \"../views/RegisterScreen.js\";\nimport ProfileScreen from \"../views/ProfileScreen.js\";\nimport ShippingScreen from \"../views/ShippingScreen.js\";\nimport PaymentScreen from \"../views/PaymentScreen.js\";\nimport PlaceOrderScreen from \"../views/PlaceOrderScreen.js\";\n// import OrderScreen from \"../views/OrderScreen.js\";\n\nconst routes = {\n  \"/\": HomeScreen,\n  \"/product/:id\": ProductScreen,\n  // \"/order/:id\": OrderScreen,\n  \"/cart/:id\": CartScreen,\n  \"/cart\": CartScreen,\n  \"/signin\": SignInScreen,\n  \"/register\": RegisterScreen,\n  \"/profile/:id\": ProfileScreen,\n  \"/shipping\": ShippingScreen,\n  \"/payment\": PaymentScreen,\n  \"/order\": PlaceOrderScreen,\n};\n\nconst router = async () => {\n  showLoading();\n  const request = parseRequestUrl();\n  const parseUrl =\n    (request.resource ? `/${request.resource}` : \"/\") +\n    (request.id ? \"/:id\" : \"\") +\n    (request.verb ? `/${request.verb}` : \"\");\n  const screen = routes[parseUrl] ? routes[parseUrl] : Error404Screen;\n  const main = document.getElementById(\"main-container\");\n  const sign = document.getElementById(\"singin\");\n  await Header.after_render();\n  sign.innerHTML = await Header.render();\n  main.innerHTML = await screen.render();\n  if (screen.after_render) await screen.after_render();\n  hideLoading();\n};\n\nwindow.addEventListener(\"load\", router);\nwindow.addEventListener(\"haschange\", router);\n","import { getProduct } from \"../js/api.js\";\nimport { hideLoading, parseRequestUrl, showLoading } from \"../js/utils.js\";\n\nconst ProductScreen = {\n  after_render: () => {\n    const request = parseRequestUrl();\n    const btnCart = document.getElementById(\"btn1\");\n    const btnShop = document.querySelector(\".cart\");\n    const btnSignin = document.querySelector(\"#singin\");\n\n    btnSignin.addEventListener(\"click\", function () {\n      if ((document.location.hash = `/signin`)) window.location.reload();\n    });\n\n    btnCart.addEventListener(\"click\", function () {\n      if ((document.location.hash = `/cart/${request.id}`))\n        window.location.reload();\n    });\n\n    btnShop.addEventListener(\"click\", function () {\n      if ((document.location.hash = `/cart`)) window.location.reload();\n    });\n  },\n  render: async () => {\n    const request = parseRequestUrl();\n    showLoading();\n    const product = await getProduct(request.id);\n    const pagination = document.querySelector(\".pages-container\");\n    if (pagination) {\n      pagination.classList.remove(\"hidden-pages\");\n    }\n    hideLoading();\n    return `\n    <a type=\"button\" href='/' onClick=\"window.close();window.open('/')\" id='backtoshop' class=\"btn bg-gradient btn-danger  mb-2 text-white position-absolute top-0 start-50 translate-middle-x\"><i class=\"fas fa-arrow-circle-left p-1\"></i>Inapoi<i class=\"fas fa-store p-1\"></i></a>\n    <div class=\"row row-cols-1 row-cols-md-3 g-5 d-flex justify-content-center align-items-center mt-4 \">\n         <div class=\"col pb-md-5  \">\n            <div class=\"card  d-flex bg-transparent w-60 justify-content-center align-items-center shadow-lg p-3 mb-4 bg-transparent bg-gradient rounded\">\n              \n                 <img src=\"./src/img/${product.img}.jpeg\" class=\"card-img-top img-thumbnail  img-fluid mt-4 pointer\" alt=\"${product.tag}\">\n               \n               <div class=\"card-body\">\n                   \n                </div>\n             </div>   \n           </div>\n           <div class=\"col mb-5\">\n            <div class=\"card  d-flex  justify-content-center align-items-center shadow-lg p-3 mb-4 bg-transparent bg-gradient rounded\">\n               <div class=\"card-body \">\n                   <h1 class=\"card-text\">${product.name}</h1>\n                   <p class=\"card-text\">The European languages are members of the same family. Their separate existence is a myth. For science, music, sport, etc, Europe uses the same vocabulary. The languages only differ in their grammar, their pronunciation and their most common words.</p>\n                   <h3 class=\"card-title\">Preț: ${product.price}lei</h3>\n                   <h6 class=\"card-title succes text-muted\">🟢În stoc</h6>\n                \n                   <a type=\"button\" id=\"btn1\" class=\"btn btn-danger bg-gradient add-cart pointer\">Adaugă în coș<i class=\"fas fa-plus p-1\"></i></a>\n                </div>\n             </div>   \n           </div>      \n       </div>\n       <div class=\"p-3\"></div>            \n    `;\n  },\n};\n\nexport default ProductScreen;\n","import { apiUrl } from \"./config.js\";\nimport { getUserInfo } from \"./localStorage.js\";\nimport { showMessage } from \"./utils.js\";\n\nexport const getProduct = async (id) => {\n  try {\n    const res = await fetch(`${apiUrl}/api/product/${id}`);\n    const data = await res.json();\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const signin = async ({ email, password }) => {\n  try {\n    const res = await fetch(`${apiUrl}/signin`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        email: email,\n        password: password,\n      }),\n    });\n    const data = await res.json();\n\n    if (password === \"\") {\n      showMessage(\"⚠️Introduceți o parolă!\");\n    } else if (email === \"\") {\n      showMessage(\"⚠️Introduceți un e-mail!\");\n    }\n\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\n    return data;\n  } catch (err) {\n    showMessage(\"⚠️Conectarea nu a reușit\");\n  }\n};\n\nexport const register = async ({ name, email, password }) => {\n  try {\n    const res = await fetch(`${apiUrl}/register`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        name: name,\n        email: email,\n        password: password,\n      }),\n    });\n    const data = await res.json();\n\n    if (password === \"\") {\n      showMessage(\"⚠️Introduceți o parolă!\");\n    } else if (email === \"\") {\n      showMessage(\"⚠️Introduceți un e-mail!\");\n    } else if (name === \"\") {\n      showMessage(\"⚠️Introduceți un nume!\");\n    }\n    return data;\n  } catch (err) {\n    showMessage(\"⚠️Inregistrarea nu a reușit\");\n  }\n};\n\nexport const update = async ({ name, email, password }) => {\n  try {\n    const { id } = getUserInfo();\n    const res = await fetch(`${apiUrl}/profile/${id}`, {\n      method: \"PUT\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        name: name,\n        email: email,\n        password: password,\n      }),\n    });\n    const data = await res.json();\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const createOrder = async (order) => {\n  try {\n    const res = await fetch(`${apiUrl}/api/order`, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(order),\n    });\n    const data = await res.json();\n    console.log(data);\n    if (res.ok) showMessage(\"✌️Comanda a fost plasată!\");\n    return data;\n  } catch (err) {\n    return { error: err.res ? err.res.data.message : err.message };\n  }\n};\n","export const apiUrl = \" https://serene-sea-96098.herokuapp.com\";\n","const Error404Screen = {\n  render: () => {\n    return `<div>Eroare</div>`;\n  },\n};\n\nexport default Error404Screen;\n","import { getProduct } from \"../js/api.js\";\nimport { getCartItems, setCartItems } from \"../js/localStorage.js\";\nimport { parseRequestUrl, rerender } from \"../js/utils.js\";\n\nconst addToCart = (item, forceUpdate = false) => {\n  let cartItems = getCartItems();\n\n  const existItem = cartItems.find((x) => x.product === item.product);\n\n  if (existItem) {\n    if (forceUpdate) {\n      cartItems = cartItems.map((x) =>\n        x.product === existItem.product ? item : x\n      );\n    }\n  } else {\n    cartItems = [...cartItems, item];\n  }\n  setCartItems(cartItems);\n  if (forceUpdate) {\n    rerender(CartScreen);\n  }\n};\n\nconst removeFromCart = (id) => {\n  const items = JSON.parse(localStorage.getItem(\"cartItems\"));\n  setCartItems(items.filter((x) => x.product === Number(id)));\n  if (id === parseRequestUrl().id) {\n    if ((document.location.hash = `/cart`)) {\n      window.location.reload();\n    }\n  } else {\n    rerender(CartScreen);\n  }\n};\n\nconst CartScreen = {\n  after_render: () => {\n    const btnSignin = document.querySelector(\"#singin\");\n\n    btnSignin.addEventListener(\"click\", function () {\n      if ((document.location.hash = `/signin`)) window.location.reload();\n    });\n\n    const qtySelects = document.getElementsByClassName(\"qty-select\");\n\n    Array.from(qtySelects).forEach((qtySelect) => {\n      const items = JSON.parse(localStorage.getItem(\"cartItems\"));\n      const item = items.find((x) => x.product === qtySelect.id);\n      qtySelect.addEventListener(\"change\", (e) => {\n        addToCart({ ...item, qty: Number(e.target.value) }, true);\n      });\n    });\n\n    const deleteButtons = document.getElementsByClassName(\"delete-button\");\n    Array.from(deleteButtons).forEach((deleteButton) => {\n      deleteButton.addEventListener(\"click\", () => {\n        removeFromCart(deleteButton.id);\n      });\n    });\n  },\n  render: async () => {\n    const request = parseRequestUrl();\n    if (request.id) {\n      const product = await getProduct(request.id);\n      addToCart({\n        product: product.id,\n        name: product.name,\n        image: product.img,\n        price: product.price,\n        countInStock: product.countInStock,\n        qty: 1,\n      });\n    }\n    const cartItems = getCartItems();\n    return `\n    <div class=\"content cart position-relative\">\n      <div class=\"cart-list mt-5\">\n        <ul class=\"cart-list-container\">\n          <li>\n            <h3>Coșul meu</h3>\n            <div id=\"prt\">🏷️Preț</div>\n          </li>\n          ${\n            cartItems.length === 0\n              ? `<div class=\"h2\">Coșul este gol😔</div>`\n              : cartItems\n                  .map(\n                    (item) => `\n            <li>\n              <div class=\"cart-image\">\n                <img src=\"/src/img/${item.image}.jpeg\" alt=\"${item.name}\" />\n              </div>\n              <div class=\"cart-name\">\n                <div>\n                  <a class=\"text-decoration-none text-dark\" href=\"/#/product/${\n                    item.product\n                  }\">\n                    ${item.name}\n                  </a>\n                </div>\n                <div>\n                📦Cantitate: \n                  <select class=\"qty-select\" id=\"${item.product}\">\n                  ${[...Array(item.countInStock).keys()].map((x) =>\n                    item.qty === x + 1\n                      ? `<option selected value=\"${x + 1}\">${x + 1}</option>`\n                      : `<option value=\"${x + 1}\">${x + 1}</option>`\n                  )}</select>\n                  <button type=\"button\" class=\"delete-button btn bg-gradient btn-danger text-white\" id=\"${\n                    item.product\n                  }\">\n                  🗑️Șterge\n                  </button>\n                </div>\n              </div>\n              <div class=\"cart-price\">\n                ${item.price}lei\n              </div>\n            </li>\n            `\n                  )\n                  .join(\"\\n\")\n          } \n        </ul>\n      </div>\n      <a type=\"button\" id='backtoshop' href=\"/\" class=\"btn bg-gradient btn-danger mb-5 text-white position-absolute top-0 start-50 translate-middle-x\"><i class=\"fas fa-arrow-circle-left p-1\"></i>Inapoi<i class=\"fas fa-store p-1\"></i></a>\n      <div class=\"cart-action mt-5 shadow-lg p-4 mb-5 bg-transparent bg-gradient rounded\">\n          <h3>\n          📋Total (${cartItems.reduce((a, c) => a + c.qty, 0)} produse)\n             :\n             ${cartItems.reduce((a, c) => a + c.price * c.qty, 0)}lei\n          </h3>\n          ${\n            localStorage.getItem(\"userInfo\")\n              ? `<button\n                type=\"button\"\n                id=\"checkout-button\"\n                onClick=\"window.close();window.open('/#/shipping')\"\n                class=\"primary fw btn bg-gradient btn-danger text-white\"\n              >\n                Comandă\n              </button>`\n              : `<button\n                type=\"button\"\n                id=\"checkout-button\"\n                onClick=\"window.close();window.open('/#/signin')\"\n                class=\"primary fw btn bg-gradient  btn-danger text-white\"\n              >\n                Comandă\n              </button>`\n          }\n      </div>\n  \n</div>\n<div class=\"p-3\"></div>\n\n    `;\n  },\n};\n\nexport default CartScreen;\n","import { signin } from \"../js/api.js\";\nimport { getUserInfo, setuserInfo } from \"../js/localStorage.js\";\nimport {\n  hideLoading,\n  redirectUser,\n  showLoading,\n  showMessage,\n} from \"../js/utils.js\";\n\nconst SignInScreen = {\n  after_render: () => {\n    const btnShop = document.querySelector(\".cart\");\n    const signInForm = document.getElementById(\"signin-form\");\n    const reg = document.getElementById(\"reg\");\n\n    reg.addEventListener(\"click\", function () {\n      if ((document.location.hash = `/register`)) window.location.reload();\n    });\n\n    btnShop.addEventListener(\"click\", function () {\n      if ((document.location.hash = `/cart`)) window.location.reload();\n    });\n\n    signInForm.addEventListener(\"submit\", async (e) => {\n      e.preventDefault();\n\n      showLoading();\n      const data = await signin({\n        email: document.getElementById(\"InputEmail\").value,\n        password: document.getElementById(\"InputPassword\").value,\n      });\n      hideLoading();\n\n      const email = document.getElementById(\"InputEmail\").value;\n      const password = document.getElementById(\"InputPassword\").value;\n\n      if (password === \"\") {\n        showMessage(\"⚠️Introduceți o parolă!\");\n      } else if (email === \"\") {\n        showMessage(\"⚠️Introduceți un e-mail!\");\n      }\n\n      if (data.error) {\n        alert(\"Invalid\");\n      } else {\n        setuserInfo(data);\n        redirectUser();\n        showMessage(\"✔️Autentificarea a reușit!\");\n      }\n    });\n  },\n  render: () => {\n    if (getUserInfo().name) {\n      redirectUser();\n    }\n    return `\n   <div class='container container-signin shadow-lg p-5 mb-5 bg-transparent bg-gradient rounded position-relative '>\n   <h6 class='text-muted'>👋🏻Pentru a putea achziționa un produs este necesară autentificarea</h6>\n    <form id='signin-form'>\n      <div class=\"mb-3\">\n        <label for=\"InputEmail\" class=\"form-label\">E-mail:</label>\n        <input type=\"email\" class=\"form-control\" id=\"InputEmail\" aria-describedby=\"emailHelp\">\n      </div>\n      <div class=\"mb-3\">\n          <label for=\"InputPassword\" class=\"form-label\">Parolă:</label>\n          <input type=\"password\" class=\"form-control\" id=\"InputPassword\">\n      </div>\n      \n      <button type=\"submit\" class=\"btn btn-danger  bg-gradient mb-3\">Conectează-te</button>\n      \n    </form>\n    <a href=\"/#/signin\" id='reg' class=\"link-danger\">😜Nu ai cont? Înregistrează-te aici!</a>\n   </div> \n   <div class=\"p-3\"></div>\n    `;\n  },\n};\n\nexport default SignInScreen;\n","import { getUserInfo } from \"../js/localStorage.js\";\n\nconst Header = {\n  render: () => {\n    const { id, name } = getUserInfo();\n    return `\n    ${\n      name\n        ? `<a href=\"/#/profile/${id}\" onClick=\"window.close();window.open('/#/profile/${id}')\" id='singin'>\n    <button\n     type=\"button\"\n     class=\"btn btn-transparent pe-4\"\n     data-bs-toggle=\"modal\"\n     data-bs-target=\"#login\"\n     >\n         <span id=\"cont\">${name}</span><i class=\"fas fa-user ps-1 me-auto\"></i>\n     </button>  \n </a>`\n        : `<a href=\"/#/signin\" onClick=\"window.close();window.open('/#/signin')\" id='singin'>\n <button\n  type=\"button\"\n  class=\"btn btn-transparent pe-4\"\n  data-bs-toggle=\"modal\"\n  data-bs-target=\"#login\"\n  >\n      <span id=\"cont\">Contul tău</span><i class=\"fas fa-sign-in-alt ps-1 me-auto\"></i>\n  </button>  \n</a>`\n    }           \n    `;\n  },\n  after_render: () => {},\n};\nexport default Header;\n","import { register } from \"../js/api.js\";\nimport { clearUser, getUserInfo, setuserInfo } from \"../js/localStorage.js\";\nimport {\n  hideLoading,\n  redirectUser,\n  showLoading,\n  showMessage,\n} from \"../js/utils.js\";\n\nconst RegisterScreen = {\n  after_render: () => {\n    const btnShop = document.querySelector(\".cart\");\n    const registerForm = document.getElementById(\"register-form\");\n    btnShop.addEventListener(\"click\", function () {\n      if ((document.location.hash = `/cart`)) window.location.reload();\n    });\n    registerForm.addEventListener(\"submit\", async (e) => {\n      e.preventDefault();\n      showLoading();\n      const data = await register({\n        name: document.getElementById(\"InputName\").value,\n        email: document.getElementById(\"InputEmail\").value,\n        password: document.getElementById(\"InputPassword\").value,\n      });\n      hideLoading();\n      const email = document.getElementById(\"InputEmail\").value;\n      const password = document.getElementById(\"InputPassword\").value;\n      const name = document.getElementById(\"InputName\").value;\n\n      if (data.error) {\n        alert(\"Invalid\");\n      } else {\n        showMessage(\"✔️Inregistrarea a reușit!\");\n        setuserInfo(data);\n        if (password === \"\") {\n          showMessage(\"⚠️Introduceți o parolă!\");\n        } else if (email === \"\") {\n          showMessage(\"⚠️Introduceți un e-mail!\");\n        } else if (name === \"\") {\n          showMessage(\"⚠️Introduceți un nume!\");\n        }\n        redirectUser();\n      }\n    });\n  },\n  render: () => {\n    if (getUserInfo().name) {\n      redirectUser();\n    }\n\n    return `\n   <div class='container container-register shadow-lg p-5 mb-5 bg-transparent bg-gradient rounded position-relative '> \n    <form id='register-form'>\n    <div class=\"mb-3\">\n        <label for=\"InputName\" class=\"form-label\">Nume:</label>\n        <input type=\"name\" class=\"form-control\" id=\"InputName\">\n      </div>\n      <div class=\"mb-3>\n        <label for=\"InputEmail\" class=\"form-label\">E-mail:</label>\n        <input type=\"email\" class=\"form-control\" id=\"InputEmail\" aria-describedby=\"emailHelp\">\n      </div>\n      <div class=\"mb-3\">\n          <label for=\"InputPassword\" class=\"form-label\">Parolă:</label>\n          <input type=\"password\" class=\"form-control\" id=\"InputPassword\">\n      </div>\n      <div class=\"mb-3\">\n          <label for=\"repassword\" class=\"form-label\">Confirmare parolă:</label>\n          <input type=\"password\" class=\"form-control\" id=\"repassword\">\n      </div>\n      \n      <button type=\"submit\"  class=\"btn btn-danger bg-gradient mb-3\">Înregistrează-te</button>\n    </form>\n    <a href=\"/#/signin\"  onClick=\"window.close();window.open('/#/signin')\" class=\"link-danger pointer\">👉Ai cont deja? Intră aici!</a>\n   </div> \n    `;\n  },\n};\n\nexport default RegisterScreen;\n","import { update } from \"../js/api.js\";\nimport { clearUser, getUserInfo, setuserInfo } from \"../js/localStorage.js\";\nimport { hideLoading, redirectUser, showLoading } from \"../js/utils.js\";\n\nconst ProfileScreen = {\n  after_render: () => {\n    const logout = document.getElementById(\"signout\");\n    const btnShop = document.querySelector(\".cart\");\n    const profileForm = document.getElementById(\"profile-form\");\n\n    logout.addEventListener(\"click\", function () {\n      if ((document.location.hash = `/`)) {\n        window.location.reload();\n        clearUser();\n      }\n    });\n\n    btnShop.addEventListener(\"click\", function () {\n      if ((document.location.hash = `/cart`)) window.location.reload();\n    });\n\n    profileForm.addEventListener(\"submit\", async (e) => {\n      e.preventDefault();\n      showLoading();\n      const data = await update({\n        name: String(document.getElementById(\"InputName\").value),\n        email: String(document.getElementById(\"InputEmail\").value),\n        password: String(document.getElementById(\"InputPassword\").value),\n      });\n      hideLoading();\n      if (data.error) {\n        alert(data.error);\n      } else {\n        setuserInfo(data);\n        document.location.hash = \"/signin\";\n        redirectUser();\n        showMessage(\"✔️Schimbarea a fost efectuata!\");\n      }\n    });\n  },\n  render: () => {\n    const { name, email } = getUserInfo();\n    if (!name) {\n      document.location.hash = \"/\";\n    }\n    return `\n   <div class='container container-register shadow-lg p-5 mb-5 bg-transparent bg-gradient rounded position-relative '> \n   <h6 class='text-muted'>👋🏻Aici poți schimba numele, e-mailul sau parola.</h6>\n    <form id='profile-form'>\n    <div class=\"mb-3\">\n        <label for=\"InputName\" class=\"form-label\">Nume:</label>\n        <input type=\"name\" class=\"form-control\" value=\"${name}\" id=\"InputName\">\n      </div>\n      <div class=\"mb-3>\n        <label for=\"InputEmail\" class=\"form-label\">Email:</label>\n        <input type=\"email\" class=\"form-control\" id=\"InputEmail\" value=\"${email}\" aria-describedby=\"emailHelp\">\n      </div>\n      <div class=\"mb-3\">\n          <label for=\"InputPassword\" class=\"form-label\">Parolă:</label>\n          <input type=\"password\" class=\"form-control\" id=\"InputPassword\">\n      </div>\n      \n      <button type=\"submit\" class=\"btn btn-danger bg-danger bg-gradient mb-3\">Schimbă</button>\n      <button type=\"button\"  id='signout' class=\"btn btn-danger bg-danger bg-gradient mb-3\">Deloghează-te</button>\n    </form>\n\n   </div> \n   <div class=\"p-3\"></div>\n    `;\n  },\n};\n\nexport default ProfileScreen;\n","import CheckoutSteps from \"../components/CheckOutSteps.js\";\nimport { getUserInfo, getShipping, setShipping } from \"../js/localStorage.js\";\n\nconst ShippingScreen = {\n  after_render: () => {\n    const btnShop = document.querySelector(\".cart\");\n    const shoppingForm = document.getElementById(\"shipping-form\");\n\n    btnShop.addEventListener(\"click\", function () {\n      if ((document.location.hash = `/cart`)) window.location.reload();\n    });\n    shoppingForm.addEventListener(\"submit\", async (e) => {\n      e.preventDefault();\n      setShipping({\n        adress: document.getElementById(\"adress\").value,\n        city: document.getElementById(\"city\").value,\n        postalCode: document.getElementById(\"postalcode\").value,\n        country: document.getElementById(\"country\").value,\n      });\n      document.location.hash = `/shipping`;\n    });\n    console.log(document.getElementById(\"adress\").value);\n  },\n  render: () => {\n    const { name } = getUserInfo();\n\n    if (!name) {\n      document.location.hash = \"/\";\n    }\n\n    const { adress, city, postalCode, country } = getShipping();\n\n    return `\n    ${CheckoutSteps.render({ step1: true, step2: true })}\n   <div class='container container-shipping shadow-lg p-5 mb-5 bg-transparent bg-gradient rounded position-relative '> \n    <form id='shipping-form'>\n    <div class=\"mb-3\">\n        <label for=\"adress\" class=\"form-label\">Adresă:</label>\n        <input type=\"text\" class=\"form-control\" value=\"${adress}\" id=\"adress\">\n      </div>\n      <div class=\"mb-3\">\n        <label for=\"country\" class=\"form-label\">Județ:</label>\n        <input type=\"country\" class=\"form-control\" value=\"${country}\" id=\"country\">\n      </div>\n      <div class=\"mb-3\">\n        <label for=\"city\" class=\"form-label\">Oraș:</label>\n        <input type=\"text\" class=\"form-control\" value=\"${city}\" id=\"city\">\n      </div>\n      <div class=\"mb-3\">\n      <label for=\"postalcode\" class=\"form-label\">Codul poștal:</label>\n      <input type=\"text\" class=\"form-control\" value=\"${postalCode}\" id=\"postalcode\">\n    </div>\n     <button type=\"submit\" onClick=\"window.close();window.open('/#/payment')\" class=\"btn btn-danger  bg-gradient\">Continuă</button>\n    </form>\n\n   </div>\n    <div class=\"p-3\"></div>\n    `;\n  },\n};\n\nexport default ShippingScreen;\n","const CheckoutSteps = {\n  render: (props) => {\n    return `\n        <div class=\"container-fluid checkout-steps \">\n          <div class=\"${props.step1 ? \"active\" : \"\"}\">Logare</div>\n          <div class=\"${props.step2 ? \"active\" : \"\"}\">Info</div>\n          <div class=\"${props.step3 ? \"active\" : \"\"}\">Plată</div>\n          <div class=\"${props.step4 ? \"active\" : \"\"}\">Comandă</div>\n        </div>\n        `;\n  },\n};\nexport default CheckoutSteps;\n","import CheckoutSteps from \"../components/CheckOutSteps.js\";\nimport { getUserInfo, getPayment, setPayment } from \"../js/localStorage.js\";\n\nconst PaymentScreen = {\n  after_render: () => {\n    const btnShop = document.querySelector(\".cart\");\n    const shoppingForm = document.getElementById(\"payment-form\");\n\n    btnShop.addEventListener(\"click\", function () {\n      if ((document.location.hash = `/cart`)) window.location.reload();\n    });\n    shoppingForm.addEventListener(\"submit\", async (e) => {\n      e.preventDefault();\n      const paymentMethod = document.querySelector(\n        \"input[name='payment-method:checked']\"\n      ).value;\n      setPayment({\n        paymentMethod,\n      });\n      document.location.hash = `/placeorder`;\n    });\n  },\n  render: () => {\n    const { name } = getUserInfo();\n\n    if (!name) {\n      document.location.hash = \"/\";\n    }\n\n    return `\n    ${CheckoutSteps.render({ step1: true, step2: true, step3: true })}\n   <div class='container container-payment shadow-lg mt-4 p-5 mb-3 bg-transparent bg-gradient rounded position-relative  '> \n    <form id='payment-form'>\n    <ul class=\"form-items\">\n    <li>\n      <div>\n        <input type=\"radio\"\n        name=\"payment-method\"\n        id=\"card\"\n        value=\"Card\"\n        checked />\n        <label for=\"card\" >💳Card</label>\n       </div> \n    </li>\n    <li>\n    <div>\n      <input type=\"radio\"\n      name=\"payment-method\"\n      id=\"cash\"\n      value=\"Cash\"\n       />\n      <label for=\"cash\" >💶Plata la ramburs</label>\n     </div> \n  </li> \n  </ul>\n       <button type=\"submit\"  onClick=\"window.close();window.open('/#/order')\" class=\"btn btn-danger  bg-gradient\">Continuă</button>\n    </form>\n\n   </div> \n    `;\n  },\n};\n\nexport default PaymentScreen;\n","import {\n  getPayment,\n  getCartItems,\n  getShipping,\n  getUserInfo,\n  cleanCart,\n} from \"../js/localStorage.js\";\nimport CheckoutSteps from \"../components/CheckOutSteps.js\";\nimport { hideLoading, showLoading, showMessage } from \"../js/utils.js\";\nimport { createOrder } from \"../js/api.js\";\n\nconst convertCartToOrder = () => {\n  const orderItems = getCartItems();\n  if (orderItems.length === 0) {\n    document.location.hash = \"/cart\";\n  }\n\n  const shipping = getShipping();\n  if (!shipping.adress) {\n    document.location = \"/shipping\";\n  }\n\n  const payment = getPayment();\n  if (!payment.paymentMethod) {\n    document.location.hash = \"/payment\";\n  }\n\n  const itemsPrice = orderItems.reduce((a, c) => a + c.price * c.qty, 0);\n  const shippingPrice = itemsPrice > 100 ? 0 : 10;\n  const taxPrice = Math.round(0.15 * itemsPrice * 100) / 100;\n  const totalPrice = itemsPrice + shippingPrice + taxPrice;\n  return {\n    orderItems,\n    shipping,\n    payment,\n    shippingPrice,\n    taxPrice,\n    itemsPrice,\n    totalPrice,\n  };\n};\n\nconst PlaceOrderScreen = {\n  after_render: async () => {\n    document\n      .getElementById(\"placeorder-button\")\n      .addEventListener(\"click\", async () => {\n        const order = convertCartToOrder();\n        console.log(order);\n        showLoading();\n        const data = await createOrder(order);\n        hideLoading();\n        if (data.error) {\n          showMessage(data.error);\n        } else {\n          cleanCart();\n          // document.location.hash = `/order/${data.order.id}`;\n        }\n      });\n  },\n  render: () => {\n    const {\n      orderItems,\n      shipping,\n      payment,\n      itemsPrice,\n      shippingPrice,\n      taxPrice,\n      totalPrice,\n    } = convertCartToOrder();\n    return `\n    <div>\n      ${CheckoutSteps.render({\n        step1: true,\n        step2: true,\n        step3: true,\n        step4: true,\n      })}\n      <div class=\"order shadow-lg p-4 mb-5 bg-transparent bg-gradient rounded\">\n        <div class=\"order-info container\">\n          <div >\n            <h2>Adresa de plată</h2>\n            <div>\n            ${String(shipping.adress)}, ${shipping.city}, ${\n      shipping.postalCode\n    }, \n            ${shipping.country}\n            </div>\n          </div>\n          <div>\n            <h2>Metoda de plată</h2>\n            <div class=\"h4\">\n              ${payment.paymentMethod}\n            </div>\n          </div>\n          <div>\n            <ul class=\"cart-list-container \">\n              <li>\n                <h2>Coșul tău</h2>\n                <div id=\"prt\">🏷️Preț</div>\n              </li>\n              ${orderItems\n                .map(\n                  (item) => `\n                <li>\n                  <div class=\"cart-image\">\n                    <img src=\"./src/img/${item.image}.jpeg\" alt=\"${item.tag}\" />\n                  </div>\n                  <div class=\"cart-name\">\n                    <div>\n                      <a class=\"text-decoration-none text-dark h3\" href=\"/#/product/${item.product}\">${item.name} </a>\n                    </div>\n                    <div> Cantitate: ${item.qty} </div>\n                  </div>\n                  <div class=\"cart-price\"> ${item.price}lei</div>\n                </li>\n                `\n                )\n                .join(\"\\n\")}\n            </ul>\n          </div>\n        </div>\n        <div class=\"order-action\">\n           <ul class=\"position-relative\">\n                <li>\n                  <h2>Sumar comandă</h2>\n                 </li>\n                 <li><div>🧾Produse</div><div>${itemsPrice}lei</div></li>\n                 <li><div>🚚Taxă curier</div><div>${shippingPrice}lei</div></li>\n                 <li class=\"total text-dark\"><div>Total</div><div>${totalPrice}lei</div></li> \n                 <li>\n                 <button id=\"placeorder-button\" class=\"primary fw btn btn-danger  bg-gradient position-absolute top-100 start-50 translate-middle\">\n                 Plasează comanda\n                 </button>\n        </div>\n      </div>\n    </div>\n    <div class=\"p-3\"></div>\n    `;\n  },\n};\n\nexport default PlaceOrderScreen;\n"],"names":["_render","HomeScreen","after_render","logo","document","querySelector","addEventListener","location","hash","window","reload","render","regeneratorRuntime","mark","_callee","res","products","wrap","_context","prev","next","$wCRaO","showLoading","fetch","hideLoading","ok","abrupt","json","concat","map","product","id","img","tag","price","name","join","stop","apply","this","arguments","request","toLowerCase","split","resource","verb","rerender","_ref","component","getElementById","innerHTML","_x","classList","add","remove","message","callback","$kt7Mb","getCartItems","length","localStorage","getItem","JSON","parse","cartItems","setItem","stringify","_ref$id","_ref$name","_ref$email","email","_ref$password","password","_ref$isAdmin","isAdmin","removeItem","adress","city","postalCode","country","_ref2","_ref2$adress","_ref2$city","_ref2$postalCode","_ref2$country","paymentMethod","_ref3","_ref3$paymentMethod","$a59de7e0478afc1f$var$_HomeScreen","$a59de7e0478afc1f$var$_interopRequireDefault","parcelRequire","ProductScreen","parseRequestUrl","btnCart","btnShop","pagination","$gq2gT","getProduct","$bf40d61af1eb58f6$var$_asyncToGenerator","data","apiUrl","Error","status","t0","console","log","signin","_callee2","_context2","method","headers","body","showMessage","_x2","register","_ref5","_callee3","_ref4","_context3","_x3","update","_ref7","_callee4","_ref6","_getUserInfo","_context4","getUserInfo","_x4","createOrder","_ref8","_callee5","order","_context5","mode","cache","credentials","error","_x5","$a59de7e0478afc1f$var$_ProductScreen","Error404Screen","$a59de7e0478afc1f$var$_Error404Screen","addToCart","item","forceUpdate","undefined","existItem","find","x","$3b194b38a2b31112$var$_toConsumableArray","setCartItems","CartScreen","qtySelects","getElementsByClassName","Array","from","forEach","qtySelect","e","$3b194b38a2b31112$var$_objectSpread","qty","Number","target","value","deleteButtons","deleteButton","items","filter","image","countInStock","keys","reduce","a","c","$a59de7e0478afc1f$var$_CartScreen","SignInScreen","signInForm","preventDefault","alert","setuserInfo","redirectUser","$a59de7e0478afc1f$var$_SignInScreen","Header","$a59de7e0478afc1f$var$_Header","RegisterScreen","registerForm","$a59de7e0478afc1f$var$_RegisterScreen","ProfileScreen","logout","profileForm","clearUser","String","$a59de7e0478afc1f$var$_ProfileScreen","$f56c5d08c3f7b7ec$var$_CheckOutSteps","ShippingScreen","shoppingForm","setShipping","_getShipping","getShipping","CheckoutSteps","step1","step2","props","step3","step4","$a59de7e0478afc1f$var$_ShippingScreen","$6d2ed22e357c9dd9$var$_CheckOutSteps","PaymentScreen","setPayment","$a59de7e0478afc1f$var$_PaymentScreen","$bdd1e2b74807b776$var$_CheckOutSteps","_after_render","convertCartToOrder","orderItems","shipping","payment","getPayment","itemsPrice","shippingPrice","taxPrice","Math","round","totalPrice","PlaceOrderScreen","$bdd1e2b74807b776$var$_asyncToGenerator","cleanCart","_convertCartToOrder","$a59de7e0478afc1f$var$_PlaceOrderScreen","routes","router","parseUrl","screen","main","sign"],"version":3,"file":"index.41b525ea.js.map"}